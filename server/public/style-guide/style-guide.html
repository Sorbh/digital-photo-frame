<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Photo Frame - Style Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <!-- Digital Photo Frame Design System -->
    <link rel="stylesheet" href="design-system.css">
    <link rel="stylesheet" href="style-guide-components.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light theme">
                <span class="theme-icon">🌙</span>
                <span class="theme-toggle-text">Dark</span>
            </button>
            <h1 class="thin-display">Style Guide</h1>
            <p class="body-text">Digital Photo Frame Design System</p>
        </div>

        <!-- Typography Section -->
        <div class="section">
            <h2 class="headline-large" style="margin-bottom: 2rem;">Material Design 3 Typography</h2>

            <!-- Display Type Scale -->
            <div style="margin-bottom: 2rem;">
                <h3 class="title-large">Display</h3>
                <div class="display-large" style="margin: 0.5rem 0;">Display Large</div>
                <p class="body-small text-secondary">57px / 64px line height / weight 475</p>

                <div class="display-medium" style="margin: 0.5rem 0;">Display Medium</div>
                <p class="body-small text-secondary">45px / 52px line height / weight 475</p>

                <div class="display-small" style="margin: 0.5rem 0;">Display Small</div>
                <p class="body-small text-secondary">36px / 44px line height / weight 475</p>
            </div>

            <!-- Headline Type Scale -->
            <div style="margin-bottom: 2rem;">
                <h3 class="title-large">Headline</h3>
                <div class="headline-large" style="margin: 0.5rem 0;">Headline Large</div>
                <p class="body-small text-secondary">32px / 40px line height / weight 475</p>

                <div class="headline-medium" style="margin: 0.5rem 0;">Headline Medium</div>
                <p class="body-small text-secondary">28px / 36px line height / weight 475</p>

                <div class="headline-small" style="margin: 0.5rem 0;">Headline Small</div>
                <p class="body-small text-secondary">24px / 32px line height / weight 475</p>
            </div>

            <!-- Title Type Scale -->
            <div style="margin-bottom: 2rem;">
                <h3 class="title-large">Title</h3>
                <div class="title-large" style="margin: 0.5rem 0;">Title Large</div>
                <p class="body-small text-secondary">22px / 30px line height / weight 400</p>

                <div class="title-medium" style="margin: 0.5rem 0;">Title Medium</div>
                <p class="body-small text-secondary">16px / 24px line height / weight 500</p>

                <div class="title-small" style="margin: 0.5rem 0;">Title Small</div>
                <p class="body-small text-secondary">14px / 20px line height / weight 500</p>
            </div>

            <!-- Body Type Scale -->
            <div style="margin-bottom: 2rem;">
                <h3 class="title-large">Body</h3>
                <div class="body-large" style="margin: 0.5rem 0;">Body Large - The quick brown fox jumps over the lazy
                    dog.</div>
                <p class="body-small text-secondary">16px / 24px line height / weight 400</p>

                <div class="body-medium" style="margin: 0.5rem 0;">Body Medium - The quick brown fox jumps over the lazy
                    dog.</div>
                <p class="body-small text-secondary">14px / 20px line height / weight 400</p>

                <div class="body-small" style="margin: 0.5rem 0;">Body Small - The quick brown fox jumps over the lazy
                    dog.</div>
                <p class="body-small text-secondary">12px / 16px line height / weight 400</p>
            </div>

            <!-- Label Type Scale -->
            <div style="margin-bottom: 2rem;">
                <h3 class="title-large">Label</h3>
                <div class="label-large" style="margin: 0.5rem 0;">LABEL LARGE</div>
                <p class="body-small text-secondary">14px / 20px line height / weight 500</p>

                <div class="label-medium" style="margin: 0.5rem 0;">LABEL MEDIUM</div>
                <p class="body-small text-secondary">12px / 16px line height / weight 500</p>

                <div class="label-small" style="margin: 0.5rem 0;">LABEL SMALL</div>
                <p class="body-small text-secondary">11px / 16px line height / weight 500</p>
            </div>
        </div>

        <!-- Colors Section -->
        <div class="section">
            <h2 class="extra-light-heading">Colors & Theme Generator</h2>

            <!-- Color Theme Generator -->
            <div class="card card-elevated" style="margin-bottom: var(--spacing-xl);">
                <h3 class="light-title">Material Design 3 Color Generator</h3>
                <p class="body-text" style="margin-bottom: var(--spacing-lg);">
                    Enter a seed color to generate a complete Material Design 3 color scheme.
                    The system will automatically calculate primary, secondary, tertiary, and neutral tones.
                </p>

                <div class="color-generator">
                    <div class="generator-input">
                        <label class="dialog-form-label" for="seedColor">Seed Color</label>
                        <div class="color-input-row">
                            <div class="color-picker-wrapper">
                                <input type="color" id="seedColorPicker" value="#6750A4"
                                    style="width: 56px; height: 56px; border: none; border-radius: var(--radius-md); cursor: pointer;">
                            </div>
                            <input type="text" id="seedColorInput" class="form-input" value="#6750A4"
                                placeholder="#6750A4" style="flex: 1;">
                            <button class="btn btn-primary generate-button" onclick="generateColorScheme()">
                                <span class="material-symbols-outlined">palette</span>
                                Generate Theme
                            </button>
                        </div>
                    </div>

                    <!-- Predefined Color Presets -->
                    <div class="color-presets-section">
                        <h4>Color Presets</h4>
                        <div class="color-presets">
                            <button class="color-preset" data-color="#6750A4" title="Purple (Default)">
                                <div style="background: #6750A4;"></div>
                            </button>
                            <button class="color-preset" data-color="#0061A4" title="Blue">
                                <div style="background: #0061A4;"></div>
                            </button>
                            <button class="color-preset" data-color="#006A60" title="Teal">
                                <div style="background: #006A60;"></div>
                            </button>
                            <button class="color-preset" data-color="#8BC34A" title="Green">
                                <div style="background: #8BC34A;"></div>
                            </button>
                            <button class="color-preset" data-color="#FF6F00" title="Orange">
                                <div style="background: #FF6F00;"></div>
                            </button>
                            <button class="color-preset" data-color="#D32F2F" title="Red">
                                <div style="background: #D32F2F;"></div>
                            </button>
                            <button class="color-preset" data-color="#7B1FA2" title="Deep Purple">
                                <div style="background: #7B1FA2;"></div>
                            </button>
                            <button class="color-preset" data-color="#5D4037" title="Brown">
                                <div style="background: #5D4037;"></div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Generated Color Scheme Display -->
            <div id="generatedColorScheme" class="color-categories">
                <!-- Row 1: Main Colors -->
                <div class="color-swatch">
                    <div class="color-chip" style="background-color: var(--primary); color: var(--on-primary);">Primary
                    </div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip" style="background-color: var(--secondary); color: var(--on-secondary);">
                        Secondary</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip" style="background-color: var(--tertiary); color: var(--on-tertiary);">
                        Tertiary</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip" style="background-color: var(--error); color: var(--on-error);">Error</div>
                </div>

                <!-- Row 2: On Colors -->
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">On Primary</div>
                </div>
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">On Secondary</div>
                </div>
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">On Tertiary</div>
                </div>
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">On Error</div>
                </div>

                <!-- Row 3: Container Colors -->
                <div class="color-swatch">
                    <div class="color-chip"
                        style="background-color: var(--primary-container); color: var(--on-primary-container);">Primary
                        Container</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip"
                        style="background-color: var(--secondary-container); color: var(--on-secondary-container);">
                        Secondary Container</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip"
                        style="background-color: var(--tertiary-container); color: var(--on-tertiary-container);">
                        Tertiary Container</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip"
                        style="background-color: var(--error-container); color: var(--on-error-container);">Error
                        Container</div>
                </div>

                <!-- Row 4: On Container Colors -->
                <div class="color-swatch">
                    <div class="color-chip" style="background-color: var(--primary); color: var(--on-primary);">On
                        Primary Container</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip" style="background-color: var(--secondary); color: var(--on-secondary);">On
                        Secondary Container</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip" style="background-color: var(--tertiary); color: var(--on-tertiary);">On
                        Tertiary Container</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip" style="background-color: var(--error); color: var(--on-error);">On Error
                        Container</div>
                </div>

                <!-- Row 8: Surface Colors -->
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">Surface Dim</div>
                </div>
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">Surface</div>
                </div>
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">Surface Bright</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip" style="background-color: var(--on-surface); color: var(--surface);">Inverse
                        Surface</div>
                </div>

                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">Inverse On Surface</div>
                </div>

                <!-- Row 9: Container Surface Colors -->
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">Surface Container Lowest</div>
                </div>
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">Surface Container Low</div>
                </div>
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">Surface Container</div>
                </div>
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">Surface Container High</div>
                </div>

                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">Surface Container Highest</div>
                </div>
                <div class="color-swatch">
                    <div class="color-chip"
                        style="background-color: var(--primary-container); color: var(--on-primary-container);">Inverse
                        Primary</div>
                </div>

                <!-- Row 10: Text and Outline Colors -->
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">On Surface</div>
                </div>
                <div class="color-swatch color-swatch-light">
                    <div class="color-chip-text">On Surface Variant</div>
                </div>
                <div class="color-swatch color-swatch-medium">
                    <div class="color-chip-text">Outline</div>
                </div>
                <div class="color-swatch color-swatch-medium">
                    <div class="color-chip-text">Outline Variant</div>
                </div>

                <div class="color-swatch color-swatch-dark">
                    <div class="color-chip-text" style="color: white;">Scrim</div>
                </div>
                <div class="color-swatch color-swatch-dark">
                    <div class="color-chip-text" style="color: white;">Shadow</div>
                </div>
            </div>

        </div>

        <!-- Components Section -->
        <div class="section">
            <h2 class="extra-light-heading">Components</h2>

            <!-- Buttons -->
            <div class="card card-standard" style="margin-bottom: 2rem;">
                <h3 class="light-title">Buttons</h3>

                <!-- Button Variants -->
                <div style="margin-bottom: 2rem;">
                    <h4>Button Variants</h4>
                    <div class="button-grid">
                        <!-- Filled Buttons (Primary Actions) -->
                        <button class="btn btn-primary">Filled Button</button>
                        <button class="btn btn-primary" style="display: flex; align-items: center; gap: 8px;">
                            <span class="material-symbols-outlined">add</span>
                            Filled with Icon
                        </button>

                        <!-- Outlined Buttons (Secondary Actions) -->
                        <button class="btn btn-outline">Outlined Button</button>
                        <button class="btn btn-outline" style="display: flex; align-items: center; gap: 8px;">
                            <span class="material-symbols-outlined">edit</span>
                            Outlined with Icon
                        </button>

                        <!-- Text Buttons (Tertiary Actions) -->
                        <button class="btn btn-text">Text Button</button>
                        <button class="btn btn-text" style="display: flex; align-items: center; gap: 8px;">
                            <span class="material-symbols-outlined">share</span>
                            Text with Icon
                        </button>

                        <!-- Icon Buttons (Standard - no background) -->
                        <button class="btn-icon btn-icon-standard" title="Settings">
                            <span class="material-symbols-outlined">settings</span>
                        </button>
                        <button class="btn-icon btn-icon-standard" title="Search">
                            <span class="material-symbols-outlined">search</span>
                        </button>

                        <!-- Icon Buttons (Filled - primary background) -->
                        <button class="btn-icon btn-icon-filled" title="Add">
                            <span class="material-symbols-outlined">add</span>
                        </button>
                        <button class="btn-icon btn-icon-filled" title="Edit">
                            <span class="material-symbols-outlined">edit</span>
                        </button>

                        <!-- Icon Buttons (Tonal - tertiary background) -->
                        <button class="btn-icon btn-icon-tonal" title="Favorite">
                            <span class="material-symbols-outlined">favorite</span>
                        </button>
                        <button class="btn-icon btn-icon-tonal" title="Share">
                            <span class="material-symbols-outlined">share</span>
                        </button>

                        <!-- Icon Buttons (Outlined) -->
                        <button class="btn-icon btn-icon-outlined" title="Delete">
                            <span class="material-symbols-outlined">delete</span>
                        </button>
                        <button class="btn-icon btn-icon-outlined" title="Download">
                            <span class="material-symbols-outlined">download</span>
                        </button>

                        <!-- Icon Buttons (Square variants) -->
                        <button class="btn-icon btn-icon-standard btn-icon-square" title="Grid View">
                            <span class="material-symbols-outlined">grid_view</span>
                        </button>
                        <button class="btn-icon btn-icon-filled btn-icon-square" title="Menu">
                            <span class="material-symbols-outlined">menu</span>
                        </button>

                        <!-- Icon Button Sizes -->
                        <button class="btn-icon btn-icon-filled btn-icon-sm" title="Small">
                            <span class="material-symbols-outlined">star</span>
                        </button>
                        <button class="btn-icon btn-icon-tonal btn-icon-lg" title="Large">
                            <span class="material-symbols-outlined">star</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Cards -->
            <div class="card card-standard" style="margin-bottom: 2rem;">
                <h3 class="light-title">Cards</h3>
                <div class="card-grid">
                    <div class="card card-standard">
                        <h4 class="light-title">Standard Card</h4>
                        <p class="body-text">This is a standard card component with subtle borders and surface coloring.
                        </p>
                    </div>
                    <div class="card card-elevated">
                        <h4 class="light-title">Elevated Card</h4>
                        <p class="body-text">This card has elevation with shadow for more visual hierarchy.</p>
                    </div>
                </div>
            </div>

            <!-- Form Elements -->
            <div class="card card-standard" style="margin-bottom: 2rem;">
                <h3 class="light-title">Form Elements</h3>
                <div class="dropdown-sections">
                    <div class="card card-standard">
                        <h4>Text Inputs</h4>
                        <div class="dropdown-list">
                            <input type="text" class="form-input" placeholder="Enter your name">
                            <input type="email" class="form-input" placeholder="Enter your email">
                            <input type="password" class="form-input" placeholder="Enter password">
                            <textarea class="form-input" rows="3" placeholder="Enter your message"></textarea>
                        </div>
                    </div>

                    <div class="card card-standard">
                        <h4>Dropdowns</h4>
                        <div class="dropdown-list">
                            <div class="dropdown">
                                <button class="dropdown-button">
                                    <span class="dropdown-text">Select an option</span>
                                    <span class="dropdown-arrow">▼</span>
                                </button>
                                <div class="dropdown-menu">
                                    <div class="dropdown-item">Option 1</div>
                                    <div class="dropdown-item">Option 2</div>
                                    <div class="dropdown-item">Option 3</div>
                                    <div class="dropdown-item">Option 4</div>
                                </div>
                            </div>

                            <div class="dropdown">
                                <button class="dropdown-button disabled">
                                    <span class="dropdown-text">Disabled dropdown</span>
                                    <span class="dropdown-arrow">▼</span>
                                </button>
                                <div class="dropdown-menu">
                                    <div class="dropdown-item">Disabled Option 1</div>
                                    <div class="dropdown-item">Disabled Option 2</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Context Menu Component -->
            <div class="card card-standard" style="margin-bottom: 2rem;">
                <h3 class="light-title">Context Menu</h3>
                <div class="context-menu-demo">
                    <p class="body-text" style="margin-bottom: 1rem;">Right-click the area below to see the context
                        menu:</p>
                    <div class="context-menu-trigger"
                        style="background: var(--surface-variant); padding: 2rem; border-radius: var(--radius-md); text-align: center; border: 1px dashed var(--outline); cursor: context-menu;">
                        Right-click here to open context menu
                    </div>

                    <!-- Context Menu -->
                    <div class="context-menu" id="contextMenu">
                        <div class="context-menu-item">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Back</span>
                                <span class="shortcut">⌘[</span>
                            </div>
                        </div>
                        <div class="context-menu-item disabled">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Forward</span>
                                <span class="shortcut">⌘]</span>
                            </div>
                        </div>
                        <div class="context-menu-item">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Reload</span>
                                <span class="shortcut">⌘R</span>
                            </div>
                        </div>

                        <div class="context-menu-separator"></div>

                        <div class="context-menu-item has-submenu" id="moreToolsTrigger">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>More Tools</span>
                            </div>
                        </div>
                        <div class="context-menu-item checked">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Show Bookmarks</span>
                            </div>
                        </div>
                        <div class="context-menu-item">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Show Full URLs</span>
                            </div>
                        </div>

                        <div class="context-menu-separator"></div>

                        <div class="context-menu-header">People</div>
                        <div class="context-menu-item selected">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Pedro Duarte</span>
                            </div>
                        </div>
                        <div class="context-menu-item">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Colm Tuite</span>
                            </div>
                        </div>
                    </div>

                    <!-- More Tools Context Menu -->
                    <div class="context-menu" id="moreToolsMenu">
                        <div class="context-menu-item">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Save Page...</span>
                            </div>
                        </div>
                        <div class="context-menu-item">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Create Shortcut...</span>
                            </div>
                        </div>
                        <div class="context-menu-item">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Name Window...</span>
                            </div>
                        </div>

                        <div class="context-menu-separator"></div>

                        <div class="context-menu-item">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Developer Tools</span>
                            </div>
                        </div>
                        <div class="context-menu-item delete">
                            <div class="icon-space"></div>
                            <div class="text-content">
                                <span>Delete</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Form Controls -->
            <div class="card card-standard" style="margin-bottom: 2rem;">
                <h3 class="light-title">Form Controls</h3>
                <div class="form-controls">
                    <div class="card card-standard">
                        <h4>Checkboxes & Radio Buttons</h4>
                        <div class="control-item">
                            <div class="checkbox"></div>
                            <span>Accept terms and conditions</span>
                        </div>
                        <div class="control-item">
                            <div class="checkbox accent checked"></div>
                            <span>Subscribe to newsletter</span>
                        </div>
                        <div class="control-item">
                            <div class="radio"></div>
                            <span>Basic Plan</span>
                        </div>
                        <div class="control-item">
                            <div class="radio accent checked"></div>
                            <span>Pro Plan</span>
                        </div>
                        <div class="control-item">
                            <div class="radio"></div>
                            <span>Enterprise Plan</span>
                        </div>
                    </div>

                    <div class="card card-standard">
                        <h4>Toggle Switches</h4>
                        <div class="toggle-item">
                            <span>Enable notifications</span>
                            <div class="toggle-switch checked"></div>
                        </div>
                        <div class="toggle-item">
                            <span>Dark mode</span>
                            <div class="toggle-switch accent checked"></div>
                        </div>
                        <div class="toggle-item">
                            <span>Auto-save</span>
                            <div class="toggle-switch"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Login Card Component -->
            <div class="card card-standard" style="margin-bottom: 2rem;">
                <h3 class="light-title">Login Card</h3>
                <div class="flex-center mt-xl">
                    <div class="card card-standard max-w-sm w-full relative">
                        <button class="btn btn-text absolute"
                            style="top: var(--spacing-xl); right: var(--spacing-xl);">Sign Up</button>

                        <div class="mb-lg">
                            <h2 class="title-large">Login to your account</h2>
                            <p class="body-medium">Enter your email below to <br>login to your account</p>
                        </div>

                        <form class="flex-column gap-lg">
                            <div class="flex-column gap-xs">
                                <label class="body-text font-medium">Email</label>
                                <input type="email" class="form-input" placeholder="m@example.com">
                            </div>

                            <div class="flex-column gap-xs">
                                <label class="body-text font-medium">Password</label>
                                <input type="password" class="form-input" placeholder="••••••••">
                                <a href="#" class="body-text link self-end"
                                    style="font-size: var(--font-size-sm); margin-top: calc(-1 * var(--spacing-xs));">Forgot
                                    your password?</a>
                            </div>

                            <button type="submit" class="btn btn-primary">Login</button>
                            <button type="button" class="btn btn-secondary">Login with Google</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Breadcrumbs Component -->
            <div class="card card-standard" style="margin-bottom: 2rem;">
                <h3 class="light-title">Breadcrumbs</h3>
                <nav class="breadcrumbs" aria-label="Breadcrumb">
                    <a href="#" class="breadcrumb-item">Home</a>
                    <span class="breadcrumb-separator">›</span>
                    <a href="#" class="breadcrumb-item">Components</a>
                    <span class="breadcrumb-separator">›</span>
                    <span class="breadcrumb-item active">Breadcrumb</span>
                </nav>
            </div>

            <!-- Dialog Component -->
            <div class="card card-standard" style="margin-bottom: 2rem;">
                <h3 class="light-title">Dialog Component</h3>
                <p class="body-text">Material Design 3 compliant dialog system with customizable content, actions, and
                    styling.</p>

                <div class="button-grid" style="margin-top: var(--spacing-lg);">
                    <button class="btn btn-primary" onclick="showBasicDialog()">
                        <span class="material-symbols-outlined">info</span>
                        Basic Dialog
                    </button>

                    <button class="btn btn-outline" onclick="showEditProfileDialog()">
                        <span class="material-symbols-outlined">person</span>
                        Edit Profile
                    </button>

                    <button class="btn btn-secondary" onclick="showCreateFolderDialog()">
                        <span class="material-symbols-outlined">create_new_folder</span>
                        Create Folder
                    </button>

                    <button class="btn btn-outline" onclick="showConfirmDialog()">
                        <span class="material-symbols-outlined">help</span>
                        Confirm Delete
                    </button>

                    <button class="btn btn-secondary" onclick="showLargeDialog()">
                        <span class="material-symbols-outlined">fullscreen</span>
                        Large Dialog
                    </button>

                    <button class="btn btn-text" onclick="showLoadingDialog()">
                        <span class="material-symbols-outlined">sync</span>
                        Loading Dialog
                    </button>
                </div>
            </div>

            <!-- Photo Grid Cell Component -->
            <div class="card card-standard">
                <h3 class="light-title">Photo Grid Cell</h3>
                <div class="photo-grid-demo">
                    <!-- Standard Photo Grid Cell -->
                    <div class="photo-grid-cell">
                        <div class="photo-grid-image">
                            <img src="https://picsum.photos/300/200?random=1" alt="Sample photo" />
                        </div>
                        <div class="photo-grid-overlay">
                            <div class="photo-grid-checkbox">
                                <div class="checkbox"></div>
                            </div>
                            <div class="photo-grid-actions">
                                <button class="btn-icon btn-icon-backdrop" title="View"><span
                                        class="material-symbols-outlined">visibility</span></button>
                                <button class="btn-icon btn-icon-backdrop" title="Download"><span
                                        class="material-symbols-outlined">download</span></button>
                                <button class="btn-icon btn-icon-backdrop" title="Delete"><span
                                        class="material-symbols-outlined">delete</span></button>
                            </div>
                        </div>
                        <div class="photo-grid-info">
                            <div class="font-medium text-white text-truncate"
                                style="font-size: var(--font-size-sm); margin-bottom: 2px;">photo_001.jpg</div>
                            <div class="text-white-80" style="font-size: var(--font-size-xs);">Jan 15, 2024</div>
                        </div>
                    </div>

                    <!-- Selected State -->
                    <div class="photo-grid-cell selected">
                        <div class="photo-grid-image">
                            <img src="https://picsum.photos/300/200?random=2" alt="Sample photo" />
                        </div>
                        <div class="photo-grid-overlay">
                            <div class="photo-grid-checkbox">
                                <div class="checkbox checked"></div>
                            </div>
                            <div class="photo-grid-actions">
                                <button class="btn-icon btn-icon-backdrop" title="View"><span
                                        class="material-symbols-outlined">visibility</span></button>
                                <button class="btn-icon btn-icon-backdrop" title="Download"><span
                                        class="material-symbols-outlined">download</span></button>
                                <button class="btn-icon btn-icon-backdrop" title="Delete"><span
                                        class="material-symbols-outlined">delete</span></button>
                            </div>
                        </div>
                        <div class="photo-grid-info">
                            <div class="font-medium text-white text-truncate"
                                style="font-size: var(--font-size-sm); margin-bottom: 2px;">vacation_sunset.jpg</div>
                            <div class="text-white-80" style="font-size: var(--font-size-xs);">Dec 22, 2023</div>
                        </div>
                    </div>

                    <!-- Loading State -->
                    <div class="photo-grid-cell loading">
                        <div class="photo-grid-image">
                            <div class="photo-grid-skeleton"></div>
                        </div>
                        <div class="photo-grid-info">
                            <div class="skeleton-text"></div>
                            <div class="skeleton-text"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Utility Classes Section -->
        <div class="section">
            <h2 class="extra-light-heading">Utility Classes</h2>

            <div class="util-grid">
                <!-- Border Radius -->
                <div class="util-section">
                    <h3 class="light-title">Border Radius</h3>
                    <div class="radius-examples">
                        <div class="radius-example radius-small">Small</div>
                        <div class="radius-example radius-medium">Med</div>
                        <div class="radius-example radius-large">Large</div>
                        <div class="radius-example radius-full">Full</div>
                    </div>
                </div>

                <!-- Text Colors -->
                <div class="util-section">
                    <h3 class="light-title">Text Colors</h3>
                    <div class="text-examples">
                        <p class="text-primary">Primary Text</p>
                        <p class="text-secondary">Secondary Text</p>
                        <p class="text-muted">Muted Text</p>
                        <p class="text-accent">Accent Text</p>
                    </div>
                </div>

                <!-- Shadows -->
                <div class="util-section">
                    <h3 class="light-title">Shadows</h3>
                    <div class="shadow-examples">
                        <div class="shadow-example shadow-small">Small</div>
                        <div class="shadow-example shadow-medium">Medium</div>
                        <div class="shadow-example shadow-large">Large</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logic-Driven UI Design Principles -->
        <div class="section">
            <h2 class="extra-light-heading">Logic-Driven UI Design Principles</h2>
            <div class="body-text">
                <p style="margin-bottom: 2rem;"><em>Based on objective guidelines rather than subjective opinion for
                        intuitive, accessible, and visually polished interfaces.</em></p>

                <h3 class="light-title">1. Spacing Based on Relationships</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem; margin-bottom: 2rem;">
                    <li>The amount of spacing between interface elements should depend on how closely related they are
                    </li>
                    <li>Related elements = closer spacing (8-16px)</li>
                    <li>Unrelated elements = more spacing (24-48px)</li>
                    <li>Use consistent spacing scale: 8px, 16px, 24px, 32px, 48px</li>
                </ul>

                <h3 class="light-title">2. Button Design Guidelines</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem; margin-bottom: 2rem;">
                    <li>Make buttons at least 48pt by 48pt in size (larger than WCAG 44pt recommendation)</li>
                    <li>Align with 8pt grid system for consistency</li>
                    <li>Ensure adequate padding: minimum 12px vertical, 24px horizontal</li>
                    <li>Use clear, action-oriented button text</li>
                </ul>

                <h3 class="light-title">3. Single Primary Button Rule</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem; margin-bottom: 2rem;">
                    <li>Only one primary button per interface/section</li>
                    <li>Primary button highlights the most important action</li>
                    <li>Helps users understand what to do next to complete their task</li>
                    <li>Secondary actions use outline or text buttons</li>
                </ul>

                <h3 class="light-title">4. Visual Hierarchy</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem; margin-bottom: 2rem;">
                    <li>Primary action should be the most prominent element</li>
                    <li>Use high contrast background colors for primary elements</li>
                    <li>Apply bold font weights to important actions</li>
                    <li>Size and positioning indicate importance</li>
                </ul>

                <h3 class="light-title">5. Objective Design Decisions</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem; margin-bottom: 2rem;">
                    <li>Rely on logical guidelines, not artistic intuition</li>
                    <li>Use established patterns for familiar interactions</li>
                    <li>Test decisions against usability principles</li>
                    <li>Prioritize function over form</li>
                </ul>
            </div>
        </div>

        <!-- Usage Guidelines -->
        <div class="section">
            <h2 class="extra-light-heading">Usage Guidelines</h2>
            <div class="body-text">
                <h3 class="light-title">Design Principles</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li>Clean typography hierarchy with appropriate font weights</li>
                    <li>Purposeful color usage following Material Design 3</li>
                    <li>Clear component hierarchy with consistent spacing</li>
                    <li>Accessible contrast ratios and interactive states</li>
                    <li>Responsive design with mobile-first approach</li>
                </ul>

                <h3 class="light-title" style="margin-top: 2rem;">Implementation</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li>Use CSS custom properties for consistent theming</li>
                    <li>Implement smooth transitions for interactive elements</li>
                    <li>Ensure proper focus states for accessibility</li>
                    <li>Test components across different screen sizes</li>
                    <li>Maintain semantic HTML structure</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Make checkboxes functional
        document.querySelectorAll('.checkbox').forEach(checkbox => {
            checkbox.addEventListener('click', function () {
                this.classList.toggle('checked');
            });
        });

        // Make radio buttons functional (grouped by section)
        document.querySelectorAll('.radio').forEach(radio => {
            radio.addEventListener('click', function () {
                // Find all radio buttons in the same control group
                const controlGroup = this.closest('.control-group');
                const radios = controlGroup.querySelectorAll('.radio');

                // Uncheck all radio buttons in the group
                radios.forEach(r => r.classList.remove('checked'));

                // Check the clicked radio button
                this.classList.add('checked');
            });
        });

        // Make toggle switches functional
        document.querySelectorAll('.toggle-switch').forEach(toggle => {
            toggle.addEventListener('click', function () {
                this.classList.toggle('checked');
            });
        });

        // Make dropdowns functional
        document.querySelectorAll('.dropdown').forEach(dropdown => {
            const button = dropdown.querySelector('.dropdown-button');
            const menu = dropdown.querySelector('.dropdown-menu');
            const text = dropdown.querySelector('.dropdown-text');
            const items = dropdown.querySelectorAll('.dropdown-item');

            // Toggle dropdown
            button.addEventListener('click', function (e) {
                e.preventDefault();

                // Don't open if disabled
                if (this.classList.contains('disabled')) return;

                // Close other dropdowns
                document.querySelectorAll('.dropdown.open').forEach(other => {
                    if (other !== dropdown) {
                        other.classList.remove('open');
                    }
                });

                // Toggle current dropdown
                dropdown.classList.toggle('open');
            });

            // Handle item selection
            items.forEach(item => {
                item.addEventListener('click', function () {
                    // Update button text
                    text.textContent = this.textContent;

                    // Remove selected class from all items
                    items.forEach(i => i.classList.remove('selected'));

                    // Add selected class to clicked item
                    this.classList.add('selected');

                    // Close dropdown
                    dropdown.classList.remove('open');
                });
            });
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', function (e) {
            if (!e.target.closest('.dropdown')) {
                document.querySelectorAll('.dropdown.open').forEach(dropdown => {
                    dropdown.classList.remove('open');
                });
            }
        });

        // Add hover effects for better UX
        document.querySelectorAll('.checkbox, .radio, .toggle-switch').forEach(control => {
            control.addEventListener('mouseenter', function () {
                this.style.transform = 'scale(1.05)';
            });

            control.addEventListener('mouseleave', function () {
                this.style.transform = 'scale(1)';
            });
        });

        // Theme Toggle functionality
        class ThemeManager {
            constructor() {
                this.themeToggle = document.getElementById('themeToggle');
                this.themeIcon = this.themeToggle.querySelector('.theme-icon');
                this.themeText = this.themeToggle.querySelector('.theme-toggle-text');

                // Get saved theme or default to light
                this.currentTheme = localStorage.getItem('theme') || 'light';

                // Apply initial theme
                this.applyTheme(this.currentTheme);

                // Setup event listener
                this.themeToggle.addEventListener('click', () => this.toggleTheme());
            }

            toggleTheme() {
                this.currentTheme = this.currentTheme === 'light' ? 'dark' : 'light';
                this.applyTheme(this.currentTheme);
                localStorage.setItem('theme', this.currentTheme);
            }

            applyTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);

                // Update button appearance
                if (theme === 'dark') {
                    this.themeIcon.textContent = '☀️';
                    this.themeText.textContent = 'Light';
                } else {
                    this.themeIcon.textContent = '🌙';
                    this.themeText.textContent = 'Dark';
                }

                // If there's a generated theme, we need to update the surface and background colors
                // to match the current theme mode while preserving the generated colors
                if (window.m3ColorGenerator && window.m3ColorGenerator.generatedTheme) {
                    const generatedTheme = window.m3ColorGenerator.generatedTheme;
                    const root = document.documentElement;
                    
                    if (theme === 'dark') {
                        // Apply dark theme variants of surface colors
                        root.style.setProperty('--background', '#121212');
                        root.style.setProperty('--surface', '#1e1e1e');
                        root.style.setProperty('--surface-variant', '#2a2a2a');
                        root.style.setProperty('--surface-container', '#2d2d2d');
                        root.style.setProperty('--surface-container-high', '#333333');
                        root.style.setProperty('--surface-container-highest', '#383838');
                        root.style.setProperty('--surface-container-low', '#242424');
                        root.style.setProperty('--surface-container-lowest', '#1a1a1a');
                        root.style.setProperty('--surface-dim', '#181818');
                        root.style.setProperty('--surface-bright', '#262626');
                        root.style.setProperty('--on-background', '#ffffff');
                        root.style.setProperty('--on-surface', '#ffffff');
                        root.style.setProperty('--on-surface-variant', '#b3b3b3');
                        root.style.setProperty('--outline', '#444444');
                        root.style.setProperty('--outline-variant', '#555555');
                        root.style.setProperty('--surface-hover', '#333333');
                    } else {
                        // Apply light theme variants, keeping generated colors for primary/secondary/tertiary
                        root.style.setProperty('--background', generatedTheme.background);
                        root.style.setProperty('--surface', generatedTheme.surface);
                        root.style.setProperty('--on-background', '#1a1a1a');
                        root.style.setProperty('--on-surface', '#1a1a1a');
                        root.style.setProperty('--on-surface-variant', '#666666');
                        root.style.setProperty('--outline', '#e0e0e0');
                        root.style.setProperty('--outline-variant', '#cccccc');
                        root.style.setProperty('--surface-hover', '#f5f5f5');
                    }
                }
            }
        }

        // Initialize theme manager and make it globally available
        window.themeManager = new ThemeManager();

        // Context Menu functionality
        document.addEventListener('DOMContentLoaded', function () {
            const contextMenu = document.getElementById('contextMenu');
            const moreToolsMenu = document.getElementById('moreToolsMenu');
            const contextMenuTrigger = document.querySelector('.context-menu-trigger');
            const moreToolsTrigger = document.getElementById('moreToolsTrigger');

            console.log('Context menu elements:', { contextMenu, moreToolsMenu, contextMenuTrigger, moreToolsTrigger });

            if (contextMenuTrigger && contextMenu) {
                // Show context menu on right click
                contextMenuTrigger.addEventListener('contextmenu', function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Right click detected');

                    // Position the menu at the cursor (using clientX/Y for viewport positioning)
                    let left = Math.min(e.clientX, window.innerWidth - 220);
                    let top = Math.min(e.clientY, window.innerHeight - 300);

                    contextMenu.style.left = left + 'px';
                    contextMenu.style.top = top + 'px';

                    // Show the menu
                    contextMenu.classList.add('show');
                    console.log('Context menu should be visible now');
                    console.log('Menu display style:', window.getComputedStyle(contextMenu).display);
                    console.log('Menu position:', contextMenu.style.left, contextMenu.style.top);
                    console.log('Window dimensions:', window.innerWidth, window.innerHeight);
                    console.log('Scroll position:', window.pageXOffset, window.pageYOffset);

                    // Adjust position if menu goes off screen
                    setTimeout(() => {
                        const rect = contextMenu.getBoundingClientRect();
                        const windowWidth = window.innerWidth;
                        const windowHeight = window.innerHeight;

                        if (rect.right > windowWidth) {
                            contextMenu.style.left = (e.pageX - rect.width) + 'px';
                        }

                        if (rect.bottom > windowHeight) {
                            contextMenu.style.top = (e.pageY - rect.height) + 'px';
                        }
                    }, 10);
                });

                // Hide context menu on click outside
                document.addEventListener('click', function (e) {
                    if (contextMenu.classList.contains('show') &&
                        !contextMenu.contains(e.target) &&
                        !contextMenuTrigger.contains(e.target)) {
                        contextMenu.classList.remove('show');
                        console.log('Context menu closed by outside click');
                    }

                    if (moreToolsMenu && moreToolsMenu.classList.contains('show') &&
                        !moreToolsMenu.contains(e.target) &&
                        !moreToolsTrigger.contains(e.target)) {
                        moreToolsMenu.classList.remove('show');
                        console.log('More tools menu closed by outside click');
                    }
                }, true);

                // Hide context menu on escape key
                document.addEventListener('keydown', function (e) {
                    if (e.key === 'Escape') {
                        contextMenu.classList.remove('show');
                        if (moreToolsMenu) {
                            moreToolsMenu.classList.remove('show');
                        }
                    }
                });

                // Handle More Tools hover
                if (moreToolsTrigger && moreToolsMenu) {
                    moreToolsTrigger.addEventListener('mouseenter', function (e) {
                        const rect = this.getBoundingClientRect();
                        moreToolsMenu.style.left = (rect.right + 5) + 'px';
                        moreToolsMenu.style.top = rect.top + 'px';
                        moreToolsMenu.classList.add('show');
                        console.log('More tools menu opened on hover');
                    });

                    moreToolsTrigger.addEventListener('mouseleave', function (e) {
                        // Only hide if not moving to the more tools menu
                        setTimeout(() => {
                            if (!moreToolsMenu.matches(':hover') && !moreToolsTrigger.matches(':hover')) {
                                moreToolsMenu.classList.remove('show');
                                console.log('More tools menu closed on hover leave');
                            }
                        }, 100);
                    });

                    moreToolsMenu.addEventListener('mouseenter', function () {
                        // Keep menu open when hovering over it
                        this.classList.add('show');
                    });

                    moreToolsMenu.addEventListener('mouseleave', function () {
                        // Hide menu when leaving it
                        this.classList.remove('show');
                        console.log('More tools menu closed on menu leave');
                    });
                }

                // Handle context menu item clicks
                contextMenu.addEventListener('click', function (e) {
                    const item = e.target.closest('.context-menu-item');
                    if (item && !item.classList.contains('has-submenu')) {
                        console.log('Context menu item clicked:', item.textContent.trim());
                        contextMenu.classList.remove('show');
                        if (moreToolsMenu) {
                            moreToolsMenu.classList.remove('show');
                        }
                    }
                });

                // Handle more tools menu clicks
                if (moreToolsMenu) {
                    moreToolsMenu.addEventListener('click', function (e) {
                        const item = e.target.closest('.context-menu-item');
                        if (item) {
                            console.log('More tools item clicked:', item.textContent.trim());
                            moreToolsMenu.classList.remove('show');
                            contextMenu.classList.remove('show');
                        }
                    });
                }

                // Also add a left-click option for demo purposes
                contextMenuTrigger.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Left click detected - showing menu for demo');

                    // Position the menu at the cursor
                    contextMenu.style.left = e.pageX + 'px';
                    contextMenu.style.top = e.pageY + 'px';

                    // Show the menu
                    contextMenu.classList.add('show');
                });
            } else {
                console.error('Context menu elements not found');
            }
        });

        // Photo Grid Cell functionality
        document.querySelectorAll('.photo-grid-cell').forEach(cell => {
            const checkbox = cell.querySelector('.checkbox');
            const actionButtons = cell.querySelectorAll('.btn-icon');

            // Make cell clickable to toggle selection
            cell.addEventListener('click', function (e) {
                // Don't trigger if clicking on action buttons
                if (!e.target.closest('.btn-icon')) {
                    checkbox.classList.toggle('checked');
                    this.classList.toggle('selected');
                }
            });

            // Action button functionality
            actionButtons.forEach(button => {
                button.addEventListener('click', function (e) {
                    e.stopPropagation(); // Prevent cell selection
                    const title = this.getAttribute('title');
                    console.log(`${title} action triggered for photo`);
                });
            });
        });

        // ===========================
        // DIALOG FUNCTIONALITY
        // ===========================

        // Simple Dialog Class
        class Dialog {
            constructor(options = {}) {
                this.options = {
                    title: '',
                    subtitle: '',
                    content: '',
                    size: 'default', // 'small', 'default', 'large', 'fullscreen'
                    showClose: true,
                    actions: [],
                    closeOnOverlay: true,
                    closeOnEscape: true,
                    ...options
                };

                this.overlay = null;
                this.dialog = null;
                this.isOpen = false;
                this.onCloseCallback = null;

                this.init();
                this.bindEvents();
            }

            init() {
                this.createOverlay();
                this.createDialog();
                this.render();
                document.body.appendChild(this.overlay);
            }

            createOverlay() {
                this.overlay = document.createElement('div');
                this.overlay.className = 'dialog-overlay';
                this.overlay.addEventListener('click', (e) => {
                    if (e.target === this.overlay && this.options.closeOnOverlay) {
                        this.close();
                    }
                });
            }

            createDialog() {
                this.dialog = document.createElement('div');
                this.dialog.className = `dialog ${this.options.size !== 'default' ? this.options.size : ''}`;
                this.overlay.appendChild(this.dialog);
            }

            render() {
                const hasActions = this.options.actions.length > 0;
                const noActionsClass = !hasActions ? 'no-actions' : '';

                this.dialog.className = `dialog ${this.options.size !== 'default' ? this.options.size : ''} ${noActionsClass}`.trim();

                this.dialog.innerHTML = `
                    <div class="dialog-header">
                        <h2 class="dialog-title">${this.options.title}</h2>
                        ${this.options.subtitle ? `<p class="dialog-subtitle">${this.options.subtitle}</p>` : ''}
                        ${this.options.showClose ? `
                            <button class="dialog-close" title="Close">
                                <span class="material-symbols-outlined">close</span>
                            </button>
                        ` : ''}
                    </div>
                    <div class="dialog-content">
                        ${this.options.content}
                    </div>
                    ${hasActions ? `
                        <div class="dialog-actions">
                            ${this.options.actions.map(action => `
                                <button class="btn ${action.class || 'btn-secondary'}" data-action="${action.id}">
                                    ${action.icon ? `<span class="material-symbols-outlined">${action.icon}</span>` : ''}
                                    ${action.text}
                                </button>
                            `).join('')}
                        </div>
                    ` : ''}
                `;

                this.bindDialogEvents();
            }

            bindEvents() {
                if (this.options.closeOnEscape) {
                    document.addEventListener('keydown', this.handleKeydown.bind(this));
                }
            }

            bindDialogEvents() {
                // Close button
                const closeBtn = this.dialog.querySelector('.dialog-close');
                if (closeBtn) {
                    closeBtn.addEventListener('click', () => this.close());
                }

                // Action buttons
                const actionBtns = this.dialog.querySelectorAll('[data-action]');
                actionBtns.forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const actionId = e.target.closest('[data-action]').dataset.action;
                        const action = this.options.actions.find(a => a.id === actionId);

                        if (action && action.handler) {
                            const result = action.handler();

                            // Auto close unless handler returns false
                            if (result !== false && action.autoClose !== false) {
                                this.close();
                            }
                        } else {
                            this.close();
                        }
                    });
                });
            }

            handleKeydown(e) {
                if (e.key === 'Escape' && this.isOpen) {
                    this.close();
                }
            }

            open() {
                this.isOpen = true;
                this.overlay.classList.add('show');
                document.body.style.overflow = 'hidden';

                // Focus management
                const firstFocusable = this.dialog.querySelector('button, input, select, textarea, [tabindex]:not([tabindex="-1"])');
                if (firstFocusable) {
                    setTimeout(() => firstFocusable.focus(), 100);
                }

                return this;
            }

            close() {
                this.isOpen = false;
                this.overlay.classList.remove('show');
                document.body.style.overflow = '';

                if (this.onCloseCallback) {
                    this.onCloseCallback();
                }

                return this;
            }

            destroy() {
                this.close();
                setTimeout(() => {
                    if (this.overlay && this.overlay.parentNode) {
                        this.overlay.parentNode.removeChild(this.overlay);
                    }
                }, 300); // Wait for transition to complete
            }
        }

        // Dialog Examples
        function showBasicDialog() {
            new Dialog({
                title: 'Basic Dialog',
                subtitle: 'This is a subtitle that provides additional context',
                content: '<p class="body-text">This is a basic dialog with a title, subtitle, and content. You can customize all aspects of the dialog.</p>',
                actions: [
                    {
                        id: 'cancel',
                        text: 'Cancel',
                        class: 'btn-secondary'
                    },
                    {
                        id: 'ok',
                        text: 'OK',
                        class: 'btn-primary'
                    }
                ]
            }).open();
        }

        function showEditProfileDialog() {
            new Dialog({
                title: 'Edit profile',
                subtitle: 'Make changes to your profile here. Click save when you\'re done.',
                content: `
                    <div class="flex-column gap-lg">
                        <div class="flex-column gap-xs">
                            <label class="body-text font-medium" for="profileName">Name</label>
                            <input type="text" id="profileName" class="form-input" value="Pedro Duarte" />
                        </div>
                        <div class="flex-column gap-xs">
                            <label class="body-text font-medium" for="profileUsername">Username</label>
                            <input type="text" id="profileUsername" class="form-input" value="@peduarte" />
                        </div>
                    </div>
                `,
                actions: [
                    {
                        id: 'cancel',
                        text: 'Cancel',
                        class: 'btn-secondary'
                    },
                    {
                        id: 'save',
                        text: 'Save changes',
                        class: 'btn-primary',
                        handler: () => {
                            const name = document.getElementById('profileName').value;
                            const username = document.getElementById('profileUsername').value;

                            setTimeout(() => {
                                showSuccessDialog(`Profile updated for ${name} (${username})`);
                            }, 100);
                        }
                    }
                ]
            }).open();
        }

        function showCreateFolderDialog() {
            new Dialog({
                title: 'Create New Folder',
                subtitle: 'Enter a name for the new folder',
                content: `
                    <div class="flex-column gap-lg">
                        <div class="flex-column gap-xs">
                            <label class="body-text font-medium" for="folderName">Folder Name</label>
                            <input type="text" id="folderName" class="form-input" placeholder="Enter folder name..." />
                        </div>
                    </div>
                `,
                actions: [
                    {
                        id: 'cancel',
                        text: 'Cancel',
                        class: 'btn-secondary'
                    },
                    {
                        id: 'create',
                        text: 'Create Folder',
                        class: 'btn-primary',
                        handler: () => {
                            const folderName = document.getElementById('folderName').value;
                            if (folderName.trim()) {
                                setTimeout(() => {
                                    showSuccessDialog(`Folder "${folderName}" has been created successfully.`);
                                }, 100);
                            } else {
                                showErrorDialog('Please enter a folder name.');
                                return false; // Prevent dialog from closing
                            }
                        }
                    }
                ]
            }).open();
        }

        function showConfirmDialog() {
            new Dialog({
                title: 'Delete Item',
                subtitle: 'This action cannot be undone. Are you sure you want to delete this item?',
                content: '<p class="body-text">This will permanently remove the selected item from your collection.</p>',
                actions: [
                    {
                        id: 'cancel',
                        text: 'Keep Item',
                        class: 'btn-secondary'
                    },
                    {
                        id: 'delete',
                        text: 'Delete',
                        class: 'btn btn-primary',
                        handler: () => {
                            setTimeout(() => {
                                showSuccessDialog('The item has been deleted successfully.');
                            }, 100);
                        }
                    }
                ]
            }).open();
        }

        function showLargeDialog() {
            new Dialog({
                title: 'Large Dialog',
                subtitle: 'This dialog has more space for complex content',
                size: 'large',
                content: `
                    <p class="body-text">This is a large dialog with more space for content.</p>
                    <p class="body-text">You can include more detailed information, forms, or other complex content in large dialogs.</p>
                    <div style="height: 200px; background: var(--surface-variant); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; margin-top: var(--spacing-lg);">
                        <span class="body-text">More content space available</span>
                    </div>
                `,
                actions: [
                    {
                        id: 'close',
                        text: 'Got it',
                        class: 'btn-primary'
                    }
                ]
            }).open();
        }

        function showLoadingDialog() {
            const loadingDialog = new Dialog({
                title: 'Processing...',
                subtitle: 'Please wait while we process your request',
                content: `
                    <div style="text-align: center; padding: var(--spacing-xl);">
                        <div class="spinner" style="display: inline-block; width: 32px; height: 32px; border: 3px solid var(--outline); border-top: 3px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite;"></div>
                        <p class="body-text" style="margin-top: var(--spacing-md);">Processing your request...</p>
                    </div>
                    <style>
                        @keyframes spin {
                            0% { transform: rotate(0deg); }
                            100% { transform: rotate(360deg); }
                        }
                    </style>
                `,
                showClose: false,
                closeOnOverlay: false,
                closeOnEscape: false
            }).open();

            // Simulate loading and close after 3 seconds
            setTimeout(() => {
                loadingDialog.destroy();
                showSuccessDialog('Processing completed successfully!');
            }, 3000);
        }

        // Helper functions for success/error dialogs
        function showSuccessDialog(message) {
            new Dialog({
                title: 'Success',
                content: `<p class="body-text">${message}</p>`,
                actions: [{
                    id: 'ok',
                    text: 'OK',
                    class: 'btn-primary'
                }]
            }).open();
        }

        function showErrorDialog(message) {
            new Dialog({
                title: 'Error',
                content: `<p class="body-text">${message}</p>`,
                actions: [{
                    id: 'ok',
                    text: 'OK',
                    class: 'btn-secondary'
                }]
            }).open();
        }

        // Material Design 3 Color Generation System
        class M3ColorGenerator {
            constructor() {
                this.setupEventListeners();
                this.generatedTheme = null;
            }

            setupEventListeners() {
                // Color picker sync
                const colorPicker = document.getElementById('seedColorPicker');
                const colorInput = document.getElementById('seedColorInput');

                colorPicker.addEventListener('input', (e) => {
                    colorInput.value = e.target.value;
                });

                colorInput.addEventListener('input', (e) => {
                    if (this.isValidHexColor(e.target.value)) {
                        colorPicker.value = e.target.value;
                    }
                });

                // Color presets
                document.querySelectorAll('.color-preset').forEach(preset => {
                    preset.addEventListener('click', (e) => {
                        const color = preset.dataset.color;
                        colorPicker.value = color;
                        colorInput.value = color;
                        this.generateColorScheme();
                    });
                });
            }

            isValidHexColor(hex) {
                return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex);
            }

            // Convert hex to HSL
            hexToHsl(hex) {
                const r = parseInt(hex.slice(1, 3), 16) / 255;
                const g = parseInt(hex.slice(3, 5), 16) / 255;
                const b = parseInt(hex.slice(5, 7), 16) / 255;

                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;

                if (max === min) {
                    h = s = 0;
                } else {
                    const d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    h /= 6;
                }

                return [h * 360, s * 100, l * 100];
            }

            // Convert HSL to hex
            hslToHex(h, s, l) {
                h = h / 360;
                s = s / 100;
                l = l / 100;

                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                };

                let r, g, b;

                if (s === 0) {
                    r = g = b = l;
                } else {
                    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                    const p = 2 * l - q;
                    r = hue2rgb(p, q, h + 1 / 3);
                    g = hue2rgb(p, q, h);
                    b = hue2rgb(p, q, h - 1 / 3);
                }

                const toHex = (c) => {
                    const hex = Math.round(c * 255).toString(16);
                    return hex.length === 1 ? '0' + hex : hex;
                };

                return '#' + toHex(r) + toHex(g) + toHex(b);
            }

            // Generate M3 color scheme from seed color
            generateSchemeFromSeed(seedHex) {
                const [h, s, l] = this.hexToHsl(seedHex);

                // Primary colors (based on seed)
                const primary = seedHex;
                const primaryContainer = this.hslToHex(h, Math.max(s - 25, 8), Math.min(l + 40, 92));

                // Secondary colors (shifted hue for harmony)
                const secondaryHue = (h + 60) % 360;
                const secondary = this.hslToHex(secondaryHue, Math.max(s - 25, 15), Math.max(l - 15, 20));
                const secondaryContainer = this.hslToHex(secondaryHue, Math.max(s - 35, 8), Math.min(l + 35, 88));

                // Tertiary colors (triadic relationship)
                const tertiaryHue = (h + 120) % 360;
                const tertiary = this.hslToHex(tertiaryHue, Math.max(s - 15, 20), Math.max(l - 10, 25));
                const tertiaryContainer = this.hslToHex(tertiaryHue, Math.max(s - 30, 10), Math.min(l + 30, 85));

                // Error colors (fixed red-based for consistency)
                const error = '#B3261E';
                const errorContainer = '#F9DEDC';

                // Surface and background (neutral tones based on primary hue)
                const surface = this.hslToHex(h, Math.max(s - 45, 4), 98);
                const background = this.hslToHex(h, Math.max(s - 50, 2), 99);

                return {
                    primary,
                    primaryContainer,
                    secondary,
                    secondaryContainer,
                    tertiary,
                    tertiaryContainer,
                    error,
                    errorContainer,
                    surface,
                    background
                };
            }

            // Generate and display color scheme
            generateColorScheme() {
                const seedColor = document.getElementById('seedColorInput').value;

                if (!this.isValidHexColor(seedColor)) {
                    showErrorDialog('Please enter a valid hex color (e.g., #6750A4)');
                    return;
                }

                this.generatedTheme = this.generateSchemeFromSeed(seedColor);
                this.displayGeneratedColors();
                this.applyGeneratedTheme(); // Apply the theme immediately after generation
            }

            // Display generated colors in the UI
            displayGeneratedColors() {
                const colors = this.generatedTheme;

                // Update color chips and hex values
                Object.entries(colors).forEach(([colorName, colorValue]) => {
                    const chip = document.getElementById(colorName + 'Chip');
                    const hex = document.getElementById(colorName + 'Hex');

                    if (chip) chip.style.backgroundColor = colorValue;
                    if (hex) hex.textContent = colorValue;
                });

                // Show the generated color scheme section
                document.getElementById('generatedColorScheme').style.display = 'block';
            }


            // Apply generated theme to entire style guide
            applyGeneratedTheme() {
                if (!this.generatedTheme) {
                    showErrorDialog('Please generate a color scheme first');
                    return;
                }

                const root = document.documentElement;
                const colors = this.generatedTheme;

                // Helper function to determine if a color is light or dark
                const isLightColor = (hex) => {
                    const r = parseInt(hex.slice(1, 3), 16);
                    const g = parseInt(hex.slice(3, 5), 16);
                    const b = parseInt(hex.slice(5, 7), 16);
                    const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;
                    return luminance > 0.5;
                };

                // Apply main colors
                root.style.setProperty('--primary', colors.primary);
                root.style.setProperty('--primary-container', colors.primaryContainer);
                root.style.setProperty('--secondary', colors.secondary);
                root.style.setProperty('--secondary-container', colors.secondaryContainer);
                root.style.setProperty('--tertiary', colors.tertiary);
                root.style.setProperty('--tertiary-container', colors.tertiaryContainer);
                root.style.setProperty('--error', colors.error);
                root.style.setProperty('--error-container', colors.errorContainer);
                root.style.setProperty('--surface', colors.surface);
                root.style.setProperty('--background', colors.background);

                // Calculate and apply on-colors (text colors on colored backgrounds)
                root.style.setProperty('--on-primary', isLightColor(colors.primary) ? '#000000' : '#FFFFFF');
                root.style.setProperty('--on-primary-container', isLightColor(colors.primaryContainer) ? '#000000' : '#FFFFFF');
                root.style.setProperty('--on-secondary', isLightColor(colors.secondary) ? '#000000' : '#FFFFFF');
                root.style.setProperty('--on-secondary-container', isLightColor(colors.secondaryContainer) ? '#000000' : '#FFFFFF');
                root.style.setProperty('--on-tertiary', isLightColor(colors.tertiary) ? '#000000' : '#FFFFFF');
                root.style.setProperty('--on-tertiary-container', isLightColor(colors.tertiaryContainer) ? '#000000' : '#FFFFFF');
                root.style.setProperty('--on-error', isLightColor(colors.error) ? '#000000' : '#FFFFFF');
                root.style.setProperty('--on-error-container', isLightColor(colors.errorContainer) ? '#000000' : '#FFFFFF');
                root.style.setProperty('--on-surface', isLightColor(colors.surface) ? '#000000' : '#FFFFFF');
                root.style.setProperty('--on-background', isLightColor(colors.background) ? '#000000' : '#FFFFFF');

                // Apply additional M3 surface variants based on generated surface color
                const [h, s, l] = this.hexToHsl(colors.surface);
                root.style.setProperty('--surface-dim', this.hslToHex(h, s, Math.max(l - 8, 0)));
                root.style.setProperty('--surface-bright', this.hslToHex(h, s, Math.min(l + 8, 100)));
                root.style.setProperty('--surface-container-lowest', this.hslToHex(h, s, Math.min(l + 4, 100)));
                root.style.setProperty('--surface-container-low', this.hslToHex(h, s, Math.min(l + 2, 100)));
                root.style.setProperty('--surface-container', this.hslToHex(h, s, Math.max(l - 2, 0)));
                root.style.setProperty('--surface-container-high', this.hslToHex(h, s, Math.max(l - 4, 0)));
                root.style.setProperty('--surface-container-highest', this.hslToHex(h, s, Math.max(l - 6, 0)));

                // Apply outline colors
                root.style.setProperty('--outline', this.hslToHex(h, Math.max(s - 20, 5), Math.max(l - 30, 20)));
                root.style.setProperty('--outline-variant', this.hslToHex(h, Math.max(s - 30, 3), Math.max(l - 15, 40)));

                // Apply other semantic colors
                root.style.setProperty('--surface-variant', this.hslToHex(h, Math.max(s - 10, 5), Math.max(l - 5, 20)));
                root.style.setProperty('--on-surface-variant', this.hslToHex(h, Math.max(s - 20, 10), Math.max(l - 40, 10)));

                console.log('Theme applied successfully with colors:', colors);

                // After applying generated colors, check if we're in dark mode and update surface colors accordingly
                const currentTheme = document.documentElement.getAttribute('data-theme');
                if (currentTheme === 'dark') {
                    // Apply dark theme surface colors while keeping generated primary colors
                    root.style.setProperty('--background', '#121212');
                    root.style.setProperty('--surface', '#1e1e1e');
                    root.style.setProperty('--surface-variant', '#2a2a2a');
                    root.style.setProperty('--surface-container', '#2d2d2d');
                    root.style.setProperty('--surface-container-high', '#333333');
                    root.style.setProperty('--surface-container-highest', '#383838');
                    root.style.setProperty('--surface-container-low', '#242424');
                    root.style.setProperty('--surface-container-lowest', '#1a1a1a');
                    root.style.setProperty('--surface-dim', '#181818');
                    root.style.setProperty('--surface-bright', '#262626');
                    root.style.setProperty('--on-background', '#ffffff');
                    root.style.setProperty('--on-surface', '#ffffff');
                    root.style.setProperty('--on-surface-variant', '#b3b3b3');
                    root.style.setProperty('--outline', '#444444');
                    root.style.setProperty('--outline-variant', '#555555');
                    root.style.setProperty('--surface-hover', '#333333');
                }
            }

            // Reset to default theme
            resetToDefaultTheme() {
                const root = document.documentElement;

                // Reset to original M3 default colors
                const defaultColors = {
                    '--primary': '#6750A4',
                    '--primary-container': '#EADDFF',
                    '--secondary': '#625B71',
                    '--secondary-container': '#E8DEF8',
                    '--tertiary': '#7D5260',
                    '--tertiary-container': '#FFD8E4',
                    '--error': '#B3261E',
                    '--error-container': '#F9DEDC',
                    '--surface': '#FFFBFE',
                    '--background': '#FFFBFE'
                };

                Object.entries(defaultColors).forEach(([cssVar, colorValue]) => {
                    root.style.setProperty(cssVar, colorValue);
                });

                // Reset input to default
                document.getElementById('seedColorInput').value = '#6750A4';
                document.getElementById('seedColorPicker').value = '#6750A4';

                // Clear generated theme
                this.generatedTheme = null;

                // Hide generated color scheme
                document.getElementById('generatedColorScheme').style.display = 'none';

                showSuccessDialog('Theme reset to Material Design 3 defaults');
            }
        }

        // Global functions for button onclick handlers
        let m3ColorGenerator;

        function generateColorScheme() {
            if (!m3ColorGenerator) m3ColorGenerator = new M3ColorGenerator();
            m3ColorGenerator.generateColorScheme();
        }

        function applyGeneratedTheme() {
            if (!m3ColorGenerator) {
                showErrorDialog('No color scheme generated yet');
                return;
            }
            m3ColorGenerator.applyGeneratedTheme();
        }

        function resetToDefaultTheme() {
            if (!m3ColorGenerator) m3ColorGenerator = new M3ColorGenerator();
            m3ColorGenerator.resetToDefaultTheme();
        }

        // Initialize color generator when DOM loads
        document.addEventListener('DOMContentLoaded', function () {
            m3ColorGenerator = new M3ColorGenerator();
            
            // Make it globally available
            window.m3ColorGenerator = m3ColorGenerator;

            // Hide generated color scheme initially
            document.getElementById('generatedColorScheme').style.display = 'none';
        });
    </script>
</body>

</html>